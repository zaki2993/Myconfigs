##### Unbind defaults #####
unbind %
unbind '"'

##### Splits like i3 #####
bind y split-window -h    # Prefix+y → side-by-side
bind v split-window -v    # Prefix+v → stacked

##### Move between panes #####
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U
bind l select-pane -R

##### Kill session safely #####
bind f confirm-before -p "Kill session #S? (y/n)" kill-session

set -g default-terminal "screen-truecolor"
set -ag terminal-overrides ",*:RGB"

##### General settings #####
set -g mouse on
set -g default-terminal "tmux-256color"
set -g status-position top

##### Plugins #####
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'catppuccin/tmux#v2.1.3'
set -g @plugin 'christoomey/vim-tmux-navigator'
##### Catppuccin configuration #####
set -g @catppuccin_flavor "mocha"
set -g @catppuccin_window_status_style "rounded"

##### Minimal status bar (full path, Catppuccin colors) #####
set -g status-left ""
set -g status-right "#[fg=#{@catppuccin_status_fg}]#[bg=#{@catppuccin_status_bg}] #{pane_current_path} "

##### Initialize TPM (keep last) #####
run '~/.tmux/plugins/tpm/tpm'
##### Resize Mode: Prefix + r #####
# 1. Bind 'r' to activate the resize-mode key table 'resize-mode'
bind r switch-client -T resize-mode

# 2. Define the 'resize-mode' key table
# Keys bound with '-T <key-table>' will ONLY be active after Prefix+r
# You can keep pressing H/J/K/L without re-pressing Prefix or r
bind -T resize-mode H resize-pane -L 5
bind -T resize-mode J resize-pane -D 5
bind -T resize-mode K resize-pane -U 5
bind -T resize-mode L resize-pane -R 5

# 3. Exit the mode: pressing 'r' or 'Escape' switches back to the default key table
# The 'r' key acts as a toggle/escape key now.
bind -T resize-mode r switch-client -T default
bind -T resize-mode Escape switch-client -T default


